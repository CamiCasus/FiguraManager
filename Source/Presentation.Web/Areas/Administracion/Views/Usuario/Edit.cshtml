@model UsuarioDto

@using (Html.BeginForm(Model.Accion, "Usuario", new { area = "Administracion" },
                                        FormMethod.Post, new { id = "frmUsuario", @class = "form-horizontal form-box" }))
{
    @Html.AntiForgeryToken()
    @Html.HiddenFor(p => p.Id)

    <h4 class="form-box-header">
        @(Model.Accion == MasterConstantes.AccionCrear ? UsuarioResources.TituloCrear : UsuarioResources.TituloEditar)
    </h4>
    <div class="form-box-content">
        <div class="form-group">
            @Html.LabelFor(p => p.UserName, new { @class = "col-sm-2 control-label" })
            <div class="col-sm-4">
                @Html.TextBoxFor(p => p.UserName, new { @class = "form-control", @maxlength = 20 })
                @Html.ValidationMessageFor(p => p.UserName)
            </div>
        </div>
        <div class="form-group">
            @Html.LabelFor(p => p.RolId, new { @class = "col-sm-2 control-label" })
            <div class="col-sm-4">
                @Html.DropDownListFor(p => p.RolId, new SelectList(Model.RolDtos, "Id", "Nombre", Model.RolId),
                    new { @class = "form-control input-sm select-select2" })
                @Html.ValidationMessageFor(p => p.RolId)
            </div>
        </div>
        <div class="form-group">
            @Html.LabelFor(p => p.Email, new { @class = "col-sm-2 control-label" })
            <div class="col-sm-4">
                @Html.TextBoxFor(p => p.Email, new { @class = "form-control", @maxlength = 100 })
                @Html.ValidationMessageFor(p => p.Email)
            </div>
        </div>
        <div class="form-group">
            @Html.LabelFor(p => p.Estado, new { @class = "col-sm-2 control-label" })
            <div class="col-sm-4">
                @Html.DropDownListFor(p => p.Estado, new SelectList(Model.Estados, "Key", "Value", Model.Estado),
                    new { @class = "form-control input-sm select-select2" })
                @Html.ValidationMessageFor(p => p.Estado)
            </div>
        </div>
        <div class="form-group form-actions">
            <div class="col-md-10 col-md-offset-2">
                <button type="submit" class="btn btn-primary"><i class="fa fa-check"></i> @WebResources.Guardar</button>
                <a href="@Url.Action("Index", "Usuario", new {area = "Administracion"})" class="btn btn-danger"><i class="fa fa-reply"></i> @WebResources.BtnRegresar</a>
            </div>
        </div>
    </div>
}
@section scripts{
    <script src="@Url.Script("~/Content/ViewsJs/UsuarioEdit.js")"></script>
    <script type="text/javascript">
        UsuarioEdit.init({
            urlIndex: '@Url.Action("Index", "Usuario", new { area = "Administracion" })'
        });
    </script>
}